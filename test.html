<!DOCTYPE html>
<!--suppress EqualityComparisonWithCoercionJS -->
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>

<script type="text/javascript">

  function showDuration() {
      document.getElementById('q1duration_question').style.display = 'block';
  }

  function hideDuration() {
      document.getElementById('q1duration_question').style.display = 'none';
      document.getElementById('long').checked = false;
      document.getElementById('short').checked = false;
  }

  function showReason() {
      document.getElementById('reason').style.display = 'block';
  }

  function hideReason() {
      document.getElementById('reason').style.display = 'none';
      document.getElementById('reason').value = "";
  }

  function clearError() {
      document.getElementById('error').textContent = "";
  }

  function validateForm() {

      var hours = document.getElementById('hours');
      var days = document.getElementById('days');
      var long = document.getElementById('more_than_30_days');
      var hard = document.getElementById('hard');
      var reason = document.getElementById('reason');
      var error = document.getElementById('error');

      if (hours.checked == false && days.checked == false && long.checked == false && hard.checked == false) {
          error.textContent = "Please tell me how long the author of the tweet will stay at the given city";
      } else if (hard.checked == true && reason.value.length < 15) {
          error.textContent = "The reason you provide is too short";
      } else {
          error.textContent = "";
          return true;
      }
      // return false;
      return true;

  }

  window.onload = function() {
      document.getElementById('submitButton').setAttribute('onclick', 'return validateForm()');
  }

</script>

<div class="container">
  <p style="text-align: center; margin: 30px; display: block; font-size: 25px; font-weight: bold">Determine for how long people will continuously stay at the given city</p>
  <div class="row">

    <div class="col-sm-5">

        <!-- Instruction part -->
        <p style="font-size: 25px; font-weight: bold; color: rgb(194, 119, 7);">Instructions:</p>
        <p>
            In this task, you will see a tweet.
            <b>Your job is to determine how long the author of the tweet will continuously stay at the given city</b>.
            You will follow these steps:
        </p>
        <p>
            <ol>
                <li>First, you will read a tweet.</li>
                <li>Second, you will determine how long the author of the tweet will continuously stay at the given city.</li>
                <li>If you cannot answer the question above, please provide your reason.</li>
            </ol>
        </p>

        <!-- Definition and Example part -->
        <p style="font-size: 25px; font-weight: bold; color: rgb(194, 119, 7);">Definitions and Examples:</p>

        <!-- Q1 part -->
        <div class="panel panel-default" style="margin-bottom: 5px;">

            <!-- Definitions -->
            <div class="panel-heading">

                <!-- Definition of hours -->
                <p>
                    <span style="font-size:18px; font-weight: bolder">Does the author of the tweet live in the given city?</span>
                </p>
                <p>
                    <span style="font-size: 15px; font-weight: bold; color: crimson;">0-24 hours:</span>
                    <span style="font-size: 15px">The author of the tweet will continuously stay at the given city for <u>0-24 hours</u> after publishing the tweet.</span>
                </p>
                <!-- Definition of days -->
                <p>
                    <span style="font-size: 15px; font-weight: bold; color: crimson;">1-30 days:</span>
                    <span style="font-size: 15px">The author of the tweet will continuously stay at the given city for <u>1-30 days</u> after publishing the tweet.</span>
                </p>
                <!-- Definition of more than days -->
                <p>
                    <span style="font-size: 15px; font-weight: bold; color: crimson;">More than 30 days:</span>
                    <span style="font-size: 15px">The author of the tweet will continuously stay at the given city for <u>more than 30 days</u> after publishing the tweet.</span>
                </p>
                <!-- Definition of I cannot determine -->
                <p>
                    <span style="font-size: 15px; font-weight: bold; color: crimson;">I cannot determine:</span>
                    <span style="font-size: 15px"><u>I cannot determine</u> how long the author of the tweet will continuously stay at the given city.</span>
                </p>

            </div>

            <!-- Examples -->
            <div id="collapse1" class="panel-collapse collapse">
                <div class="panel-body">
                    <!-- Example of Yes -->
                    <p style="font-size:12px">
                        <p style="margin: 10px; text-align: center; font-weight: bold">Example of <i>0-24 hours</i></p>
                        <img style="max-width: 300px; display: block; margin-left: auto; margin-right: auto;" src="https://zhaomin.s3.us-east-2.amazonaws.com/display/display_1244666583894589440.png" />
                        <p style="margin: 10px">
                            The text and image show the flower in the bathroom of the apartment/house.
                            Therefore, we can tell that author of the tweet lives in <span style="color: #4A8FFF"><b>Charlottle</b></span>.
                        </p>
                    </p>
                    <!-- Example of No -->
                    <p style="font-size:12px">
                        <p style="margin: 10px; text-align: center; font-weight: bold">Example of <i>1-30 days</i></p>
                        <img style="max-width: 300px; display: block; margin-left: auto; margin-right: auto;" src="https://zhaomin.s3.us-east-2.amazonaws.com/display/display_1385388145974267905.png" />
                        <p style="margin: 10px">
                            The text shows that the author of the tweet is in <span style="color: #4A8FFF"><b>Kennebunkport</b></span> for vacation,
                            which means that he does not live there.
                        </p>
                    </p>
                    <!-- Example of No -->
                    <p style="font-size:12px">
                        <p style="margin: 10px; text-align: center; font-weight: bold">Example of <i>More than 30 days</i></p>
                        <img style="max-width: 300px; display: block; margin-left: auto; margin-right: auto;" src="https://zhaomin.s3.us-east-2.amazonaws.com/display/display_1385388145974267905.png" />
                        <p style="margin: 10px">
                            The text shows that the author of the tweet is in <span style="color: #4A8FFF"><b>Kennebunkport</b></span> for vacation,
                            which means that he does not live there.
                        </p>
                    </p>
                    <!-- Example of I cannot determine -->
                    <p style="font-size:12px">
                        <p style="margin: 10px; text-align: center; font-weight: bold">Example of <i>I cannot determine</i></p>
                        <img style="max-width: 300px; display: block; margin-left: auto; margin-right: auto;" src="https://zhaomin.s3.us-east-2.amazonaws.com/display/display_1240744731421880331.png" />
                        <p style="margin: 10px">
                            We cannot determine if the author of the tweet lives in the <span style="color: #4A8FFF"><b>Phoenix</b></span> because we need more information.
                        </p>
                    </p>
                </div>
            </div>

        </div>
        <p style="margin-left: 10px; font-weight: bolder; font-size: 13px;">(click <a data-toggle="collapse" data-parent="#accordion" href="#collapse1">HERE</a> to see/hide examples of the above question)</p>

        <br />
        <br />
    </div>

    <!-- display the tweet and questions -->
    <div class="col-sm-7" >
      <p style="font-size: 20px; font-weight: bold; color: rgb(194, 119, 7);">Read the tweet and answer the questions about the author of the tweet:<span id="instance_id" style="display: none"></span></p>
      <div class="panel panel-default">
        <div class="panel-body">

          <!-- Show tweet -->
          <div class="row">
            <div class="col-sm-12">
              <img style="max-width: 350px; display: block; margin-left: auto; margin-right: auto; margin-bottom: 20px" src="${image_link}" />
            </div>
          </div>

          <!-- Show questions -->
          <form id='form' onsubmit="return validateForm();">
            <div class="row">

              <div id="q1_question" class="col-sm-12 col-sm-offset-1">
                <p>How long will the author of the tweet continuously stay at <span style="color: #4A8FFF"><b>${location}</b></span> after publishing this tweet?</p>

                <div class="form-check-inline">
                  <label class="form-check-label">
                    <input type="radio" class="form-check-input" id="hours" name="q2" value="hours" style="margin-right: 10px" onclick="hideDuration(); hideReason(); clearError()" />0-24 hours
                  </label>
                  <br />
                  <label class="form-check-label">
                    <input type="radio" class="form-check-input" id="days" name="q2" value="days" style="margin-right: 10px" onclick="showDuration(); hideReason(); clearError()" />1-30 days
                  </label>
                  <br />
                  <label class="form-check-label">
                    <input type="radio" class="form-check-input" id="more_than_days" name="q2" value="more_than_30_days" style="margin-right: 10px" onclick="showDuration(); hideReason(); clearError()" />more than 30 days
                  </label>
                  <br />
                  <label class="form-check-label">
                    <input type="radio" class="form-check-input" id="hard" name="q2" value="hard" style="margin-right: 10px" onclick="hideDuration(); showReason(); clearError()" />I cannot determine how long the author of the tweet will continuously stay at <span style="color: #4A8FFF"><b>${location}</b></span>
                  </label>
                </div>

                <div class="form-group">
                    <textarea class="form-control" id="reason" name="reason" rows="3" style="max-width: 70%; display: none;" minlength="15" placeholder="Please tell us why you cannot determine (at least 15 characters)"></textarea>
                </div>
              </div>

            </div>

            <!-- Submit button and error message (if any) -->
            <div class="row text-center">
              <span id="error" style="margin: 20px; color: red; font-weight: bold"></span>
              <br>
              <br>
              <input type="submit" id='submitButton' class="btn btn-primary" value="Submit" />
            </div>

          </form>

        </div>
      </div>
    </div>

  </div>
</div>
</body>
</html>
